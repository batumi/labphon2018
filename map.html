<!DOCTYPE html>
<html>
<head>
  <title>A D3 map</title>
  <script src="node_modules/d3/build/d3.min.js"></script>
  <script src="node_modules/d3-geo/build/d3-geo.js"></script>
  <script src="http://enjalot.github.io/intro-d3/lib/topojson.v1.min.js"></script>
  <!-- <script src="node_modules/geojson-georgian-regions/SubRegions_low_quality.json"></script> -->
  <!-- https://www.arcgis.com/home/item.html?id=ec63e68fcf304c639859ebbc29d0a0f0 -->
  <style>
  body {
    background: #666;
  }

  svg {
    background: #999;
  }
  </style>
</head>
<body>
  <div id="georgia"></div>
  <script>
    var projection = d3.geoNaturalEarth1();
    var path = d3.geoPath(projection);

    fetch("https://batumi.github.io/geojson-georgian-regions/SubRegions_High_Quality.json")
      .then(function(res) {
        return res.json();
      }).then(function(geogianSubRegions) {
        console.log("d3.geoMercatorRaw", d3.geoMercatorRaw);
        d3.geoMercatorRaw();

        var width = 700;
        var height = 580;

        var svg = d3.select('body')
          .append('svg')
          .attr('width', width)
          .attr('height', height);

        var g = svg.append('g');

        var albersProjection = d3.geoAlbers()
          .scale(190000)
          .rotate([71.057, 0])
          .center([0, 42.313])
          .translate([width / 2, height / 2]);

        var geoPath = d3.geoPath()
          .projection(albersProjection);

        g.selectAll('path')
          .data(geogianSubRegions.features)
          .enter()
          .append('path')
          // .attr('fill', '#ccc')
          .attr('d', geoPath);
      });

    d3.json("http://enjalot.github.io/intro-d3/maptime/data/world110.json", function(err, world) {
      console.log("data", world)
      var countries = topojson.feature(world, world.objects.land);
      console.log("countries", countries)

      var width = 420;
      var height = 400;

      var projection = d3.geoOrthographic()
        //var projection = d3.geo.albers()
        //var projection = d3.geo.mercator()
        .scale(170)
        .rotate([100, 0, 0])
        .translate([width / 2, height / 2])
        .clipAngle(90);

      var svg = d3.select('body')
        .append('svg')
        .attr('width', width)
        .attr('height', height);

      var path = d3.geoPath()
        .projection(projection);

      svg.append("path")
        .attr("d", path(countries))
        .classed("land", true);
    });
  </script>
</body>
</html>

